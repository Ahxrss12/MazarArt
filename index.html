<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø­Ø¬Ø² Ø§Ù„ØªØ¬Ø§Ø±Ø¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'arabic': ['Segoe UI', 'Tahoma', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Arial, sans-serif; }
        .map-container { 
            background: linear-gradient(45deg, #e8f5e8 0%, #f0f8f0 25%, #e0f0e0 50%, #d8e8d8 75%, #f5f8f5 100%);
            position: relative;
            overflow: hidden;
        }
        .map-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(34, 139, 34, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(70, 130, 180, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 50%),
                linear-gradient(90deg, rgba(105, 105, 105, 0.05) 1px, transparent 1px),
                linear-gradient(rgba(105, 105, 105, 0.05) 1px, transparent 1px);
            background-size: 100% 100%, 100% 100%, 100% 100%, 50px 50px, 50px 50px;
            pointer-events: none;
        }
        .map-roads {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }
        .road {
            position: absolute;
            background: rgba(128, 128, 128, 0.3);
            border-radius: 2px;
        }
        .road-horizontal {
            height: 4px;
            width: 100%;
        }
        .road-vertical {
            width: 4px;
            height: 100%;
        }
        .zoom-controls {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        .zoom-btn {
            width: 40px;
            height: 40px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        .zoom-btn:hover {
            background: #f0f0f0;
            border-color: #999;
        }
        .experience-pin { 
            animation: pulse 2s infinite;
            cursor: pointer;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .modal-overlay {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50 font-arabic">
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø¡ -->
    <div id="startScreen" class="min-h-screen bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center">
            <div class="mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">ğŸŒŸ ØªØ¬Ø§Ø±Ø¨ Ù…Ù…ÙŠØ²Ø©</h1>
                <p class="text-gray-600">Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ ÙÙŠ Ù…Ø¯ÙŠÙ†ØªÙƒ</p>
            </div>
            
            <div class="mb-6">
                <label class="block text-right text-gray-700 mb-2">Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©</label>
                <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                    <option>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                    <option>English</option>
                </select>
            </div>
            
            <div class="space-y-4">
                <button onclick="showLogin()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                <button onclick="showRegister()" class="w-full border-2 border-purple-600 text-purple-600 py-3 rounded-xl font-semibold hover:bg-purple-50 transition-colors">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
                </button>
                <button onclick="showMap()" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-colors">
                    Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒØ¶ÙŠÙ ğŸ‘¤
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="loginScreen" class="hidden min-h-screen bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md">
            <button onclick="showStart()" class="mb-4 text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            
            <div class="space-y-4">
                <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" class="w-full p-3 border border-gray-300 rounded-xl text-right">
                <input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="w-full p-3 border border-gray-300 rounded-xl text-right">
                <button onclick="showMap()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    Ø¯Ø®ÙˆÙ„
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
    <div id="registerScreen" class="hidden min-h-screen bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md">
            <button onclick="showStart()" class="mb-4 text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
            
            <div class="space-y-4">
                <input type="text" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" class="w-full p-3 border border-gray-300 rounded-xl text-right">
                <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" class="w-full p-3 border border-gray-300 rounded-xl text-right">
                <input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="w-full p-3 border border-gray-300 rounded-xl text-right">
                <button onclick="showMap()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
    <div id="mapScreen" class="hidden min-h-screen bg-gray-100">
        <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
        <div class="bg-white shadow-lg p-4">
            <div class="flex items-center space-x-4 space-x-reverse">
                <button onclick="showProfile()" class="p-2 rounded-full bg-purple-100 text-purple-600">
                    ğŸ‘¤
                </button>
                <div class="flex-1 relative">
                    <input 
                        type="text" 
                        placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ¬Ø§Ø±Ø¨..." 
                        class="w-full p-3 pr-12 border border-gray-300 rounded-xl text-right"
                        onclick="showFilters()"
                        readonly
                    >
                    <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400">ğŸ”</span>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
        <div class="map-container relative h-screen" id="mapContainer">
            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªÙƒØ¨ÙŠØ± -->
            <div class="zoom-controls">
                <button class="zoom-btn" onclick="zoomIn()">+</button>
                <button class="zoom-btn" onclick="zoomOut()">-</button>
            </div>
            
            <!-- Ø§Ù„Ø·Ø±Ù‚ -->
            <div class="map-roads">
                <div class="road road-horizontal" style="top: 25%;"></div>
                <div class="road road-horizontal" style="top: 50%;"></div>
                <div class="road road-horizontal" style="top: 75%;"></div>
                <div class="road road-vertical" style="left: 30%;"></div>
                <div class="road road-vertical" style="left: 60%;"></div>
            </div>
            
            <!-- Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© -->
            <div class="experience-pin absolute top-1/4 right-1/4 bg-red-500 text-white p-3 rounded-full shadow-lg" onclick="showExperience(1)">
                ğŸ­
            </div>
            <div class="experience-pin absolute top-1/3 right-1/2 bg-green-500 text-white p-3 rounded-full shadow-lg" onclick="showExperience(2)">
                ğŸ³
            </div>
            <div class="experience-pin absolute top-1/2 right-1/3 bg-blue-500 text-white p-3 rounded-full shadow-lg" onclick="showExperience(3)">
                ğŸ¨
            </div>
            <div class="experience-pin absolute top-2/3 right-2/3 bg-yellow-500 text-white p-3 rounded-full shadow-lg" onclick="showExperience(4)">
                ğŸƒâ€â™‚ï¸
            </div>
            
            <!-- Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ© ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
            <div class="experience-pin absolute top-1/5 right-3/5 bg-purple-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(5)">
                ğŸ›ï¸
            </div>
            <div class="experience-pin absolute top-2/5 right-1/5 bg-indigo-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(6)">
                âœï¸
            </div>
            <div class="experience-pin absolute top-3/5 right-4/5 bg-pink-500 text-white p-3 rounded-full shadow-lg" onclick="showExperience(7)">
                ğŸŒ¸
            </div>
            <div class="experience-pin absolute top-4/5 right-2/5 bg-amber-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(8)">
                ğŸ•Œ
            </div>
            <div class="experience-pin absolute top-1/6 right-4/6 bg-teal-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(9)">
                ğŸº
            </div>
            <div class="experience-pin absolute top-3/4 right-1/6 bg-cyan-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(10)">
                ğŸ“¸
            </div>
            <div class="experience-pin absolute top-1/8 right-5/6 bg-orange-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(11)">
                ğŸµ
            </div>
            <div class="experience-pin absolute top-5/6 right-3/4 bg-emerald-600 text-white p-3 rounded-full shadow-lg" onclick="showExperience(12)">
                ğŸ
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ÙÙ„Ø§ØªØ± -->
    <div id="filtersModal" class="hidden fixed inset-0 modal-overlay z-50 flex items-end">
        <div class="bg-white rounded-t-3xl w-full max-h-3/4 overflow-y-auto slide-up">
            <div class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-bold">ÙÙ„ØªØ±Ø© Ø§Ù„ØªØ¬Ø§Ø±Ø¨</h3>
                    <button onclick="hideFilters()" class="text-gray-500 text-2xl">Ã—</button>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-gray-700 mb-2">Ù†ÙˆØ¹ Ø§Ù„ØªØ¬Ø±Ø¨Ø©</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                            <option>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</option>
                            <option>ÙÙ†ÙˆÙ† ÙˆØ«Ù‚Ø§ÙØ©</option>
                            <option>Ø·Ø¨Ø® ÙˆØ·Ø¹Ø§Ù…</option>
                            <option>Ø±ÙŠØ§Ø¶Ø© ÙˆÙ…ØºØ§Ù…Ø±Ø©</option>
                            <option>ØªØ¹Ù„ÙŠÙ…ÙŠØ©</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 mb-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                            <option>Ø£ÙŠ Ø¹Ø¯Ø¯</option>
                            <option>1-2 Ø£Ø´Ø®Ø§Øµ</option>
                            <option>3-5 Ø£Ø´Ø®Ø§Øµ</option>
                            <option>6+ Ø£Ø´Ø®Ø§Øµ</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ù„Ø³Ø¹Ø±</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                            <option>Ø£ÙŠ Ø³Ø¹Ø±</option>
                            <option>Ø£Ù‚Ù„ Ù…Ù† 100 Ø±ÙŠØ§Ù„</option>
                            <option>100-300 Ø±ÙŠØ§Ù„</option>
                            <option>Ø£ÙƒØ«Ø± Ù…Ù† 300 Ø±ÙŠØ§Ù„</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 mb-2">Ø§Ù„ÙˆÙ‚Øª</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                            <option>Ø£ÙŠ ÙˆÙ‚Øª</option>
                            <option>ØµØ¨Ø§Ø­Ø§Ù‹</option>
                            <option>Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø±</option>
                            <option>Ù…Ø³Ø§Ø¡Ù‹</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 mb-2">Ù…Ø¯Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø©</label>
                        <select class="w-full p-3 border border-gray-300 rounded-xl text-right">
                            <option>Ø£ÙŠ Ù…Ø¯Ø©</option>
                            <option>Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹Ø©</option>
                            <option>1-3 Ø³Ø§Ø¹Ø§Øª</option>
                            <option>Ø£ÙƒØ«Ø± Ù…Ù† 3 Ø³Ø§Ø¹Ø§Øª</option>
                        </select>
                    </div>
                </div>
                
                <button onclick="applyFilters()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold mt-6 hover:bg-purple-700 transition-colors">
                    ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ¬Ø±Ø¨Ø© -->
    <div id="experienceModal" class="hidden fixed inset-0 modal-overlay z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl w-full max-w-md max-h-5/6 overflow-y-auto slide-up">
            <div class="relative">
                <img src="https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400&h=200&fit=crop" alt="ØµÙˆØ±Ø© Ø§Ù„ØªØ¬Ø±Ø¨Ø©" class="w-full h-48 object-cover rounded-t-3xl">
                <button onclick="hideExperience()" class="absolute top-4 left-4 bg-white rounded-full p-2 shadow-lg">Ã—</button>
            </div>
            
            <div class="p-6">
                <h3 id="experienceTitle" class="text-2xl font-bold mb-4">ÙˆØ±Ø´Ø© Ø§Ù„Ø·Ø¨Ø® Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ</h3>
                
                <div class="mb-6">
                    <h4 class="font-semibold mb-2">Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­Ø©</h4>
                    <div class="grid grid-cols-2 gap-2">
                        <button class="p-2 border border-gray-300 rounded-lg hover:bg-purple-50 hover:border-purple-300" onclick="selectDate(this)">
                            Ø§Ù„Ø¬Ù…Ø¹Ø© 15/12
                        </button>
                        <button class="p-2 border border-gray-300 rounded-lg hover:bg-purple-50 hover:border-purple-300" onclick="selectDate(this)">
                            Ø§Ù„Ø³Ø¨Øª 16/12
                        </button>
                        <button class="p-2 border border-gray-300 rounded-lg hover:bg-purple-50 hover:border-purple-300" onclick="selectDate(this)">
                            Ø§Ù„Ø£Ø­Ø¯ 17/12
                        </button>
                        <button class="p-2 border border-gray-300 rounded-lg hover:bg-purple-50 hover:border-purple-300" onclick="selectDate(this)">
                            Ø§Ù„Ø§Ø«Ù†ÙŠÙ† 18/12
                        </button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h4 class="font-semibold mb-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ</h4>
                    <div class="flex items-center justify-center space-x-4 space-x-reverse">
                        <button onclick="decreaseCount()" class="bg-gray-200 rounded-full w-10 h-10 flex items-center justify-center">-</button>
                        <span id="personCount" class="text-xl font-semibold">2</span>
                        <button onclick="increaseCount()" class="bg-gray-200 rounded-full w-10 h-10 flex items-center justify-center">+</button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <div class="flex justify-between items-center">
                        <span class="text-2xl font-bold text-purple-600" id="totalPrice">200 Ø±ÙŠØ§Ù„</span>
                        <span class="text-gray-600">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</span>
                    </div>
                </div>
                
                <button onclick="showPayment()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯ÙØ¹ -->
    <div id="paymentScreen" class="hidden min-h-screen bg-gray-50 p-4">
        <div class="max-w-md mx-auto">
            <div class="bg-white rounded-3xl shadow-lg p-6 mb-4">
                <button onclick="hidePayment()" class="mb-4 text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
                <h2 class="text-2xl font-bold mb-6 text-center">Ù…Ù„Ø®Øµ Ø§Ù„Ø­Ø¬Ø²</h2>
                
                <div class="space-y-4 mb-6">
                    <div class="flex justify-between">
                        <span class="font-semibold">ÙˆØ±Ø´Ø© Ø§Ù„Ø·Ø¨Ø® Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ</span>
                        <span>Ø§Ù„ØªØ¬Ø±Ø¨Ø©</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Ø§Ù„Ø¬Ù…Ø¹Ø© 15/12 - 3:00 Ù…</span>
                        <span>Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª</span>
                    </div>
                    <div class="flex justify-between">
                        <span>2 Ø£Ø´Ø®Ø§Øµ</span>
                        <span>Ø§Ù„Ø¹Ø¯Ø¯</span>
                    </div>
                    <hr>
                    <div class="flex justify-between font-bold text-lg">
                        <span class="text-purple-600">200 Ø±ÙŠØ§Ù„</span>
                        <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</span>
                    </div>
                </div>
                
                <button onclick="showConfirmation()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø¯ÙØ¹
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² -->
    <div id="confirmationScreen" class="hidden min-h-screen bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center">
            <div class="text-6xl mb-4">âœ…</div>
            <h2 class="text-2xl font-bold text-gray-800 mb-4">ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²!</h2>
            <p class="text-gray-600 mb-4">Ø­Ø¬Ø²Ùƒ Ù…Ø¤Ù‚Øª ÙˆØºÙŠØ± Ù…Ø­ÙÙˆØ¸</p>
            
            <!-- QR Code Ø§Ù„Ø­Ø¬Ø² -->
            <div class="bg-gray-50 rounded-2xl p-6 mb-6">
                <h3 class="font-bold text-gray-800 mb-3">QR Code Ø§Ù„Ø­Ø¬Ø²</h3>
                <div class="bg-white p-4 rounded-xl border-2 border-dashed border-gray-300 mb-3">
                    <canvas id="barcodeCanvas" class="mx-auto"></canvas>
                </div>
                <p class="text-sm text-gray-600 mb-2">Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: <span id="bookingNumber" class="font-mono font-bold"></span></p>
                <p class="text-xs text-gray-500">Ø§Ù…Ø³Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ¬Ø±Ø¨Ø©</p>
                <button onclick="downloadBarcode()" class="mt-3 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700">
                    ØªØ­Ù…ÙŠÙ„ QR Code ğŸ“±
                </button>
            </div>
            
            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-6">
                <p class="text-yellow-700 text-sm">ğŸ’¡ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ø­ÙØ¸ Ø§Ù„Ø­Ø¬Ø² Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…</p>
            </div>
            
            <div class="space-y-3">
                <button onclick="showLogin()" class="w-full bg-purple-600 text-white py-3 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø­ÙØ¸ Ø§Ù„Ø­Ø¬Ø²
                </button>
                <button onclick="showMap()" class="w-full border border-gray-300 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-50 transition-colors">
                    Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙƒØ¶ÙŠÙ
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
    <div id="profileScreen" class="hidden min-h-screen bg-gray-50">
        <div class="bg-white shadow-lg p-4 mb-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-bold">Ø­Ø³Ø§Ø¨ÙŠ</h2>
                <button onclick="showMap()" class="text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </div>
        </div>
        
        <div class="max-w-md mx-auto p-4 space-y-4">
            <div class="bg-white rounded-2xl shadow-lg p-6 text-center">
                <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">ğŸ‘¤</span>
                </div>
                <h3 class="text-xl font-bold mb-2">Ø¶ÙŠÙ</h3>
                <p class="text-gray-600">ØºÙŠØ± Ù…Ø³Ø¬Ù„</p>
                <button onclick="showLogin()" class="mt-3 bg-purple-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-purple-700">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø­ÙØ¸
                </button>
            </div>
            
            <div class="space-y-3">
                <button onclick="showGuestBookings()" class="w-full bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between hover:bg-gray-50">
                    <span>â†’</span>
                    <div class="text-right">
                        <div class="font-semibold">Ø­Ø¬ÙˆØ²Ø§ØªÙŠ Ø§Ù„Ù…Ø¤Ù‚ØªØ©</div>
                        <div class="text-sm text-gray-600">ØºÙŠØ± Ù…Ø­ÙÙˆØ¸Ø©</div>
                    </div>
                    <span class="text-2xl">ğŸ“…</span>
                </button>
                
                <button onclick="showLogin()" class="w-full bg-purple-50 rounded-2xl shadow-lg p-4 flex items-center justify-between hover:bg-purple-100 text-purple-600">
                    <span>â†’</span>
                    <div class="text-right">
                        <div class="font-semibold">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</div>
                        <div class="text-sm text-purple-500">Ù„Ø­ÙØ¸ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</div>
                    </div>
                    <span class="text-2xl">âœ¨</span>
                </button>
                
                <button class="w-full bg-white rounded-2xl shadow-lg p-4 flex items-center justify-between hover:bg-gray-50">
                    <span>â†’</span>
                    <div class="text-right">
                        <div class="font-semibold">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
                    </div>
                    <span class="text-2xl">âš™ï¸</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© -->
    <div id="upcomingBookingsScreen" class="hidden min-h-screen bg-gray-50">
        <div class="bg-white shadow-lg p-4 mb-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-bold">ØªØ¬Ø§Ø±Ø¨ÙŠ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</h2>
                <button onclick="showProfile()" class="text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </div>
        </div>
        
        <div class="max-w-md mx-auto p-4 space-y-4">
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <div class="flex justify-between items-start mb-3">
                    <div class="text-right">
                        <h3 class="font-bold">ÙˆØ±Ø´Ø© Ø§Ù„Ø·Ø¨Ø® Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ</h3>
                        <p class="text-gray-600 text-sm">Ø§Ù„Ø¬Ù…Ø¹Ø© 15/12 - 3:00 Ù…</p>
                        <p class="text-purple-600 font-semibold">200 Ø±ÙŠØ§Ù„</p>
                    </div>
                    <span class="text-2xl">ğŸ³</span>
                </div>
                <div class="flex space-x-2 space-x-reverse">
                    <button class="flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm hover:bg-purple-700">
                        ØªØ¹Ø¯ÙŠÙ„
                    </button>
                    <button class="flex-1 bg-red-600 text-white py-2 rounded-lg text-sm hover:bg-red-700">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <div class="flex justify-between items-start mb-3">
                    <div class="text-right">
                        <h3 class="font-bold">ÙˆØ±Ø´Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ù…Ø§Ø¦ÙŠ</h3>
                        <p class="text-gray-600 text-sm">Ø§Ù„Ø³Ø¨Øª 23/12 - 10:00 Øµ</p>
                        <p class="text-purple-600 font-semibold">150 Ø±ÙŠØ§Ù„</p>
                    </div>
                    <span class="text-2xl">ğŸ¨</span>
                </div>
                <div class="flex space-x-2 space-x-reverse">
                    <button class="flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm hover:bg-purple-700">
                        ØªØ¹Ø¯ÙŠÙ„
                    </button>
                    <button class="flex-1 bg-red-600 text-white py-2 rounded-lg text-sm hover:bg-red-700">
                        Ø¥Ù„ØºØ§Ø¡
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø¶ÙŠÙ -->
    <div id="guestBookingsScreen" class="hidden min-h-screen bg-gray-50">
        <div class="bg-white shadow-lg p-4 mb-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-bold">Ø­Ø¬ÙˆØ²Ø§ØªÙŠ Ø§Ù„Ù…Ø¤Ù‚ØªØ©</h2>
                <button onclick="showProfile()" class="text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </div>
        </div>
        
        <div class="max-w-md mx-auto p-4">
            <div class="bg-yellow-50 border border-yellow-200 rounded-2xl p-4 mb-4">
                <div class="flex items-center mb-2">
                    <span class="text-yellow-600 text-xl ml-2">âš ï¸</span>
                    <span class="font-semibold text-yellow-800">ØªÙ†Ø¨ÙŠÙ‡</span>
                </div>
                <p class="text-yellow-700 text-sm">
                    Ø­Ø¬ÙˆØ²Ø§ØªÙƒ ØºÙŠØ± Ù…Ø­ÙÙˆØ¸Ø©. Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø£Ùˆ Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹ Ù„Ø­ÙØ¸ Ø­Ø¬ÙˆØ²Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….
                </p>
                <button onclick="showLogin()" class="mt-3 bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-yellow-700">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†
                </button>
            </div>
            
            <div id="guestBookingsList" class="space-y-4">
                <!-- Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ© Ù‡Ù†Ø§ -->
                <div class="text-center text-gray-500 py-8">
                    <span class="text-4xl block mb-2">ğŸ“</span>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ø¤Ù‚ØªØ©</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ¬Ø§Ø±Ø¨ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
    <div id="pastBookingsScreen" class="hidden min-h-screen bg-gray-50">
        <div class="bg-white shadow-lg p-4 mb-4">
            <div class="flex items-center justify-between">
                <h2 class="text-xl font-bold">ØªØ¬Ø§Ø±Ø¨ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h2>
                <button onclick="showProfile()" class="text-gray-600 hover:text-gray-800">â† Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            </div>
        </div>
        
        <div class="max-w-md mx-auto p-4 space-y-4">
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <div class="flex justify-between items-start mb-3">
                    <div class="text-right">
                        <h3 class="font-bold">ÙˆØ±Ø´Ø© ØµÙ†Ø§Ø¹Ø© Ø§Ù„ÙØ®Ø§Ø±</h3>
                        <p class="text-gray-600 text-sm">Ø§Ù„Ø¬Ù…Ø¹Ø© 1/12 - 2:00 Ù…</p>
                        <p class="text-gray-500">Ù…ÙƒØªÙ…Ù„Ø© âœ…</p>
                    </div>
                    <span class="text-2xl">ğŸº</span>
                </div>
                <button class="w-full bg-yellow-500 text-white py-2 rounded-lg text-sm hover:bg-yellow-600">
                    ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØ¬Ø±Ø¨Ø© â­
                </button>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-4">
                <div class="flex justify-between items-start mb-3">
                    <div class="text-right">
                        <h3 class="font-bold">Ø¬ÙˆÙ„Ø© ØªØµÙˆÙŠØ± ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ</h3>
                        <p class="text-gray-600 text-sm">Ø§Ù„Ø³Ø¨Øª 25/11 - 6:00 Øµ</p>
                        <p class="text-gray-500">Ù…ÙƒØªÙ…Ù„Ø© âœ…</p>
                    </div>
                    <span class="text-2xl">ğŸ“¸</span>
                </div>
                <div class="flex items-center justify-between">
                    <div class="text-yellow-500">â­â­â­â­â­</div>
                    <span class="text-sm text-gray-600">ØªÙ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentPersonCount = 2;
        let selectedDate = null;
        let currentExperience = null;
        let mapZoom = 1;
        let mapPanX = 0;
        let mapPanY = 0;

        const experiences = {
            1: { title: "ÙˆØ±Ø´Ø© Ø§Ù„Ù…Ø³Ø±Ø­ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ", price: 180, icon: "ğŸ­", category: "ÙÙ†ÙˆÙ† ÙˆØ«Ù‚Ø§ÙØ©" },
            2: { title: "ÙˆØ±Ø´Ø© Ø§Ù„Ø·Ø¨Ø® Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ", price: 100, icon: "ğŸ³", category: "Ø·Ø¨Ø® ÙˆØ·Ø¹Ø§Ù…" },
            3: { title: "ÙˆØ±Ø´Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ù…Ø§Ø¦ÙŠ", price: 120, icon: "ğŸ¨", category: "ÙÙ†ÙˆÙ† ÙˆØ«Ù‚Ø§ÙØ©" },
            4: { title: "ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¬Ø±ÙŠ Ø§Ù„ØµØ¨Ø§Ø­ÙŠ", price: 80, icon: "ğŸƒâ€â™‚ï¸", category: "Ø±ÙŠØ§Ø¶Ø© ÙˆÙ…ØºØ§Ù…Ø±Ø©" },
            5: { title: "Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…ØªØ­Ù Ø§Ù„ÙˆØ·Ù†ÙŠ", price: 50, icon: "ğŸ›ï¸", category: "Ø«Ù‚Ø§ÙÙŠØ© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ©" },
            6: { title: "ÙˆØ±Ø´Ø© Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ", price: 90, icon: "âœï¸", category: "Ø«Ù‚Ø§ÙÙŠØ© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ©" },
            7: { title: "ØªØ¬Ø±Ø¨Ø© ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø¹Ø·ÙˆØ±", price: 200, icon: "ğŸŒ¸", category: "ØªØ¹Ù„ÙŠÙ…ÙŠØ©" },
            8: { title: "Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¨Ù„Ø¯Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©", price: 60, icon: "ğŸ•Œ", category: "Ø«Ù‚Ø§ÙÙŠØ© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ©" },
            9: { title: "ÙˆØ±Ø´Ø© ØµÙ†Ø§Ø¹Ø© Ø§Ù„ÙØ®Ø§Ø±", price: 140, icon: "ğŸº", category: "ÙÙ†ÙˆÙ† ÙˆØ«Ù‚Ø§ÙØ©" },
            10: { title: "ØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ", price: 160, icon: "ğŸ“¸", category: "ØªØ¹Ù„ÙŠÙ…ÙŠØ©" },
            11: { title: "ÙˆØ±Ø´Ø© Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„ØªØ±Ø§Ø«ÙŠØ©", price: 110, icon: "ğŸµ", category: "Ø«Ù‚Ø§ÙÙŠØ© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ©" },
            12: { title: "ØªØ¬Ø±Ø¨Ø© Ø±ÙƒÙˆØ¨ Ø§Ù„Ø®ÙŠÙ„", price: 250, icon: "ğŸ", category: "Ø±ÙŠØ§Ø¶Ø© ÙˆÙ…ØºØ§Ù…Ø±Ø©" }
        };

        function showScreen(screenId) {
            document.querySelectorAll('[id$="Screen"], [id$="Modal"]').forEach(el => {
                el.classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
            document.getElementById(screenId).classList.add('fade-in');
        }

        function showStart() { showScreen('startScreen'); }
        function showLogin() { showScreen('loginScreen'); }
        function showRegister() { showScreen('registerScreen'); }
        function showMap() { showScreen('mapScreen'); }
        function showProfile() { showScreen('profileScreen'); }
        function showUpcomingBookings() { showScreen('upcomingBookingsScreen'); }
        function showPastBookings() { showScreen('pastBookingsScreen'); }
        function showGuestBookings() { showScreen('guestBookingsScreen'); }

        function showFilters() {
            document.getElementById('filtersModal').classList.remove('hidden');
        }

        function hideFilters() {
            document.getElementById('filtersModal').classList.add('hidden');
        }

        function applyFilters() {
            hideFilters();
            // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ù†Ø·Ù‚ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±
        }

        function showExperience(id) {
            currentExperience = experiences[id];
            document.getElementById('experienceTitle').textContent = currentExperience.title;
            updateTotalPrice();
            document.getElementById('experienceModal').classList.remove('hidden');
        }

        function hideExperience() {
            document.getElementById('experienceModal').classList.add('hidden');
        }

        function selectDate(button) {
            document.querySelectorAll('#experienceModal button').forEach(btn => {
                btn.classList.remove('bg-purple-100', 'border-purple-300');
            });
            button.classList.add('bg-purple-100', 'border-purple-300');
            selectedDate = button.textContent;
        }

        function increaseCount() {
            if (currentPersonCount < 10) {
                currentPersonCount++;
                document.getElementById('personCount').textContent = currentPersonCount;
                updateTotalPrice();
            }
        }

        function decreaseCount() {
            if (currentPersonCount > 1) {
                currentPersonCount--;
                document.getElementById('personCount').textContent = currentPersonCount;
                updateTotalPrice();
            }
        }

        function updateTotalPrice() {
            if (currentExperience) {
                const total = currentExperience.price * currentPersonCount;
                document.getElementById('totalPrice').textContent = total + ' Ø±ÙŠØ§Ù„';
            }
        }

        function showPayment() {
            if (!selectedDate) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            hideExperience();
            showScreen('paymentScreen');
        }

        function hidePayment() {
            showScreen('mapScreen');
        }

        function showConfirmation() {
            generateBookingNumber();
            generateBarcode();
            showScreen('confirmationScreen');
        }

        function generateBookingNumber() {
            // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø­Ø¬Ø² ÙØ±ÙŠØ¯
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 1000);
            const bookingNumber = 'EXP' + timestamp.toString().slice(-6) + random.toString().padStart(3, '0');
            document.getElementById('bookingNumber').textContent = bookingNumber;
            return bookingNumber;
        }

        function generateBarcode() {
            const canvas = document.getElementById('barcodeCanvas');
            const ctx = canvas.getContext('2d');
            const bookingNumber = document.getElementById('bookingNumber').textContent;
            
            // ØªØ­Ø¯ÙŠØ¯ Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³ Ù„Ù„Ù€ QR Code
            canvas.width = 160;
            canvas.height = 160;
            
            // Ù…Ø³Ø­ Ø§Ù„ÙƒØ§Ù†ÙØ§Ø³
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Ø¥Ù†Ø´Ø§Ø¡ QR Code Ø¨Ø³ÙŠØ·
            const qrSize = 20; // 20x20 Ù…Ø±Ø¨Ø¹Ø§Øª
            const cellSize = 6; // Ø­Ø¬Ù… ÙƒÙ„ Ù…Ø±Ø¨Ø¹
            const padding = 20;
            
            // ØªÙˆÙ„ÙŠØ¯ Ù†Ù…Ø· QR Code Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²
            const qrData = generateQRPattern(bookingNumber);
            
            ctx.fillStyle = 'black';
            
            // Ø±Ø³Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª
            for (let row = 0; row < qrSize; row++) {
                for (let col = 0; col < qrSize; col++) {
                    if (qrData[row][col]) {
                        const x = padding + col * cellSize;
                        const y = padding + row * cellSize;
                        ctx.fillRect(x, y, cellSize, cellSize);
                    }
                }
            }
            
            // Ø±Ø³Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© ÙÙŠ Ø§Ù„Ø²ÙˆØ§ÙŠØ§ (Ù†Ù…Ø· QR Code Ø§Ù„Ù…Ù…ÙŠØ²)
            drawFinderPattern(ctx, padding, padding, cellSize);
            drawFinderPattern(ctx, padding + 13 * cellSize, padding, cellSize);
            drawFinderPattern(ctx, padding, padding + 13 * cellSize, cellSize);
        }
        
        function generateQRPattern(data) {
            const size = 20;
            const pattern = Array(size).fill().map(() => Array(size).fill(false));
            
            // ØªÙˆÙ„ÙŠØ¯ Ù†Ù…Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            let seed = 0;
            for (let i = 0; i < data.length; i++) {
                seed += data.charCodeAt(i);
            }
            
            // Ù…Ù„Ø¡ Ø§Ù„Ù†Ù…Ø·
            for (let row = 0; row < size; row++) {
                for (let col = 0; col < size; col++) {
                    // ØªØ¬Ù†Ø¨ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
                    if ((row < 7 && col < 7) || 
                        (row < 7 && col > 12) || 
                        (row > 12 && col < 7)) {
                        continue;
                    }
                    
                    const hash = (row * 31 + col * 17 + seed) % 100;
                    pattern[row][col] = hash < 50;
                }
            }
            
            return pattern;
        }
        
        function drawFinderPattern(ctx, x, y, cellSize) {
            // Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ (7x7)
            ctx.fillRect(x, y, 7 * cellSize, 7 * cellSize);
            
            // Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø¨ÙŠØ¶ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ (5x5)
            ctx.fillStyle = 'white';
            ctx.fillRect(x + cellSize, y + cellSize, 5 * cellSize, 5 * cellSize);
            
            // Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø³ÙˆØ¯ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ (3x3)
            ctx.fillStyle = 'black';
            ctx.fillRect(x + 2 * cellSize, y + 2 * cellSize, 3 * cellSize, 3 * cellSize);
        }

        function downloadBarcode() {
            const canvas = document.getElementById('barcodeCanvas');
            const bookingNumber = document.getElementById('bookingNumber').textContent;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„
            const link = document.createElement('a');
            link.download = 'booking-qrcode-' + bookingNumber + '.png';
            link.href = canvas.toDataURL();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function zoomIn() {
            if (mapZoom < 3) {
                mapZoom += 0.2;
                updateMapTransform();
            }
        }

        function zoomOut() {
            if (mapZoom > 0.5) {
                mapZoom -= 0.2;
                updateMapTransform();
            }
        }

        function updateMapTransform() {
            const mapContainer = document.getElementById('mapContainer');
            const pins = mapContainer.querySelectorAll('.experience-pin');
            const roads = mapContainer.querySelector('.map-roads');
            
            pins.forEach(pin => {
                pin.style.transform = `scale(${mapZoom}) translate(${mapPanX}px, ${mapPanY}px)`;
            });
            
            if (roads) {
                roads.style.transform = `scale(${mapZoom}) translate(${mapPanX}px, ${mapPanY}px)`;
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            showStart();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c32489860cbadc',t:'MTc1NDY5OTQwMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
